<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Valentine ðŸ’•</title>

<style>
  * {
    box-sizing: border-box;
    font-family: "Times New Roman", Times, serif;
  }

  html, body {
    margin: 0;
    height: 100%;
    background: #ffd6e8;
    overflow: hidden;
  }

  .container {
    position: relative;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    z-index: 2;
    padding: 20px;
  }

  .text {
    font-size: clamp(2rem, 6vw, 3.2rem);
    color: #e75480;
    animation: bounce 2s infinite;
    position: relative;
  }

  .text::after {
    content: "âœ¨";
    position: absolute;
    right: -1.5rem;
    top: -1rem;
    animation: sparkle 1.5s infinite;
  }

  .alt-text {
    margin-top: 15px;
    font-size: 1.5rem;
    color: #e75480;
    display: none;
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
  }

  @keyframes sparkle {
    0% { opacity: 0; transform: scale(0.5); }
    50% { opacity: 1; transform: scale(1.2); }
    100% { opacity: 0; transform: scale(0.5); }
  }

  .buttons {
    margin-top: 30px;
    display: flex;
    gap: 20px;
    position: relative;
  }

  button {
    font-size: 1.2rem;
    padding: 12px 28px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    transition: transform 0.2s ease;
    position: relative;
  }

  .yes {
    background: #ff5fa2;
    color: white;
  }

  .no {
    background: #ffffff;
    color: #e75480;
  }

  canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
  }
</style>
</head>

<body>

<div class="container">
  <div class="text" id="mainText">will you be my valentine ðŸ’˜</div>
  <div class="alt-text" id="altText">thatâ€™s not an option</div>

  <div class="buttons">
    <button class="yes" id="yesBtn">Yes ðŸ’–</button>
    <button class="no" id="noBtn">No ðŸ™ˆ</button>
  </div>
</div>

<canvas id="confetti"></canvas>
<canvas id="fireworks"></canvas>

<script>
  /** CANVAS SETUP **/
  const confettiCanvas = document.getElementById("confetti");
  const fireworksCanvas = document.getElementById("fireworks");
  const confettiCtx = confettiCanvas.getContext("2d");
  const fireworksCtx = fireworksCanvas.getContext("2d");

  function resize() {
    confettiCanvas.width = fireworksCanvas.width = window.innerWidth;
    confettiCanvas.height = fireworksCanvas.height = window.innerHeight;
  }
  resize();
  window.addEventListener("resize", resize);

  /** HEART CONFETTI **/
  const hearts = [];
  for (let i = 0; i < 120; i++) {
    hearts.push({
      x: Math.random() * confettiCanvas.width,
      y: Math.random() * confettiCanvas.height - confettiCanvas.height,
      size: Math.random() * 6 + 6,
      speed: Math.random() * 1.5 + 1,
      sway: Math.random() * 2,
      color: ["#ff69b4", "#ff85a2", "#ffc0cb", "#e75480"][Math.floor(Math.random()*4)]
    });
  }

  function drawHeart(ctx, x, y, s, c) {
    ctx.fillStyle = c;
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.bezierCurveTo(x - s, y - s, x - s*2, y + s, x, y + s*2);
    ctx.bezierCurveTo(x + s*2, y + s, x + s, y - s, x, y);
    ctx.fill();
  }

  function confettiLoop() {
    confettiCtx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    hearts.forEach(h => {
      drawHeart(confettiCtx, h.x, h.y, h.size, h.color);
      h.y += h.speed;
      h.x += Math.sin(h.y * 0.02) * h.sway;
      if (h.y > confettiCanvas.height) {
        h.y = -20;
        h.x = Math.random() * confettiCanvas.width;
      }
    });
    requestAnimationFrame(confettiLoop);
  }
  confettiLoop();

  /** NO BUTTON RUN AWAY **/
  const noBtn = document.getElementById("noBtn");
  const altText = document.getElementById("altText");

  noBtn.addEventListener("click", () => {
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 100);
    noBtn.style.position = "fixed";
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";

    setTimeout(() => {
      altText.style.display = "block";
    }, 600);
  });

  /** FIREWORKS **/
  const particles = [];

  function launchFirework(x, y) {
    for (let i = 0; i < 80; i++) {
      particles.push({
        x, y,
        vx: Math.cos(i) * (Math.random() * 4),
        vy: Math.sin(i) * (Math.random() * 4),
        life: 60,
        color: ["#ff5fa2","#ff85a2","#ffffff","#e75480"][Math.floor(Math.random()*4)]
      });
    }
  }

  function fireworksLoop() {
    fireworksCtx.clearRect(0,0,fireworksCanvas.width,fireworksCanvas.height);
    particles.forEach((p, i) => {
      p.x += p.vx;
      p.y += p.vy;
      p.life--;
      fireworksCtx.fillStyle = p.color;
      fireworksCtx.fillRect(p.x, p.y, 3, 3);
      if (p.life <= 0) particles.splice(i, 1);
    });
    requestAnimationFrame(fireworksLoop);
  }
  fireworksLoop();

  document.getElementById("yesBtn").addEventListener("click", () => {
    for (let i = 0; i < 5; i++) {
      launchFirework(
        Math.random() * window.innerWidth,
        Math.random() * window.innerHeight * 0.6
      );
    }
  });
</script>

</body>
</html>
